<!DOCTYPE html>
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[Git 정리] 작업 취소하기  | dev2820 개발일지</title>
    <meta name="description"
        content="dev2820의 개발일지 저장소 '[Git 정리] 작업 취소하기'을 한 번 살펴보세요.">
    <meta property="og:title" content="[Git 정리] 작업 취소하기">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2021-03-28">
    
    <meta property="og:description"
        content="dev2820의 개발일지 저장소 '[Git 정리] 작업 취소하기'을 한 번 살펴보세요.">
    <meta property="og:url" content="https://dev2820.github.io/study/git/git-%EC%A0%95%EB%A6%AC-%EC%9E%91%EC%97%85-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0/">
    <meta property="og:site_name" content="dev2820 개발일지">
    
    <meta property="og:image" content="https://dev2820.github.io/images/thumbnail.png">
    
    
    <meta property="og:tags" content="study">
    
    <meta property="og:tags" content="컴퓨터 기술">
    
    <meta property="og:tags" content="공부정리">
    
    <meta property="og:tags" content="Git">
    
    <meta property="og:tags" content="버전관리">
    
    
    <link rel="icon" href="https://dev2820.github.io/images/favicon_32.png" type="image/png" sizes="32x32">
    <link rel="canonical" href="https://dev2820.github.io/study/git/git-%EC%A0%95%EB%A6%AC-%EC%9E%91%EC%97%85-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0/">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap">
    <link rel="stylesheet" href="/css/styles.css">
    
    
    
    
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TTD4CD0DNR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-TTD4CD0DNR');
    </script>
    
    
    
    <script src="/js/default.js"></script>
    
</head>
<body id="body">
        <div id="loader">
            <span class="description">
                loading
            </span>
        </div><div id="topbar" class="card">
  <div class="menus">
    <div class="logo">
      <a href="/">
        
        <img src="/images/site_logo_dark.png" height="32px" width="96px"/>
        
      </a>
    </div>
    <div class="burger">
      <button onclick="event.stopPropagation(); goToUrl('/search')">
        <i class="fa fa-search fa-2x" aria-hidden="true"></i>
      </button>
      <button onclick="event.stopPropagation(); toggleAside(true)">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
      </button>
    </div>
  </div>
</div><aside id="left-aside">
    <div class="profile-container">
        <div class="profile">
    <div class="cover">
        
        <img src="/images/cover.jpg" class="round-card">
        
    </div>
    
    
    <h2>dev2820</h2>
    
    <p>풀스텍 웹개발을 지향합니다</p>
    <div class="center">
        <div class="share">
    <a href ="https://github.com/dev2820">
        <i class="fab fa-github icon"></i>
    </a>
    <a href ="https://mailto:second28200@gmail.com">
        <i class="fas fa-envelope icon"></i>
    </a> 
    <a href ="/index.xml">
        <i class="fas fa-rss icon"></i>
    </a>
</div>
    </div>
</div>
    </div>
    <div class="navigation-container">
        <nav class="aside-menu center">
            <ul>
                <li>
                    <i class="fas fa-home icon"></i>
                    <a href="https://dev2820.github.io/">Home</a>
                </li>
                <li>
                    <i class="fas fa-list icon"></i>
                    <a href="https://dev2820.github.io//categories">Categories</a>
                </li>
                <li>
                    <i class="fas fa-tags icon"></i>
                    <a href="https://dev2820.github.io//tags">Tags</a>
                </li>
                <li>
                    <i class="fas fa-search icon"></i>
                    <a href="https://dev2820.github.io//search">Search</a>
                </li>
                <li>
                    <i class="fas fa-user icon"></i>
                    <a href="https://dev2820.github.io//about">About</a>
                </li>
            </ul>
        </nav>
    </div>
</aside>

<header id="single-header" class="card-inset bg-cover">

  <div class="curtain center">
    <a class="go-back" href="javascript:history.back()"><i class="fas fa-arrow-left icon"></i></a>
    <h1 class="title">[Git 정리] 작업 취소하기</h1>
    <div class="meta-data appear-300ms">
      <p class="date"> <i class="far fa-calendar icon"></i> 2021.03.28 </p>
      <p class="wordcount"> <i class="far fa-clock icon"></i> 8m</p>
    </div>
  </div>
</header>

<main id="single-main">
  <div class="roller"></div>
  <section id="content" class="appear-700ms">
    <article class="content card">
      <p>이번 장에서는 git에서 작업을 되돌리는 방법에 대해 배웁니다.</p>
<ul>
<li>변경사항 되돌리기</li>
<li>staging 취소하기</li>
<li>commit 변경, 삭제하기</li>
</ul>
<p>하지만 이런 것들을 배우기 전에 브랜치를 적극적으로 활용해서 작업을 취소할 일이 없도록 합시다. 번거로우니까요.</p>
<h2 id="삭제-변경된-파일-되돌리기">삭제, 변경된 파일 되돌리기</h2>
<p>A.txt이 있다고 치고 A.txt를 삭제해봅시다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">rm A.txt
</code></pre></td></tr></table>
</div>
</div><p>삭제된 파일을 되돌려봅시다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># git checkout -- [파일 이름]</span>
git checkout -- A.txt
</code></pre></td></tr></table>
</div>
</div><p>위 명령처럼 파일을 checkout 하게 되면 HEAD(현재 작업 중인 브랜치의 가장 최신 커밋)을 참조해 파일을 되돌립니다. 삭제된 파일 뿐만 아니라 파일의 변경 내용을 원래 상태로 되돌릴 때도 쓸 수 있습니다.</p>
<h2 id="reset-staging-취소하기"><code>reset</code>: staging 취소하기</h2>
<p>이미 변경사항을 staging까지 했다면 <code>reset</code>으로 되돌려야 합니다.
<code>reset</code>은 HEAD가 가리키는 commit을 변경하는 명령입니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># git reset HEAD [staging 된 파일]</span>
git reset HEAD A.txt
</code></pre></td></tr></table>
</div>
</div><p>사용법은 <code>--soft</code>와 <code>--mixed</code>, <code>--hard</code> 옵션으로 나누어지는데, default는 <code>--mixed</code>이고, <code>--soft</code>는 여기에선 설명하지 않겠습니다.
git의 reset 명령에 대해 더 자세히 알고 싶은 분들은 <a target="_blank" href="https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-Reset-%EB%AA%85%ED%99%95%ED%9E%88-%EC%95%8C%EA%B3%A0-%EA%B0%80%EA%B8%B0">
    reset 명확히 알고 가기
</a>
<i class="fas fa-link"></i> 를 참고해주세요.</p>
<p>위 명령은 HEAD와 같은 상태로 staging 된 A.txt를 되돌립니다. 파일의 변경사항은 남아있지만, staging 상태만 해제되는 거죠. 그냥 쉽게 staging만 해제한다고 알아도 됩니다.</p>
<p>파일명을 명시해주지 않으면 모든 파일을 대상으로 reset이 진행됩니다.</p>
<h3 id="--hard-삭제하고-staging-한-파일-되돌리기"><code>--hard</code>: 삭제하고 staging 한 파일 되돌리기</h3>
<p><code>--hard</code> 옵션을 붙이게 되면 현재 상태가 HEAD와 똑같아집니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># git reset --hard HEAD [staging 된 파일]</span>
git reset --hard HEAD A.txt
</code></pre></td></tr></table>
</div>
</div><p>staging만 해제하는 게 아니라 변경사항도 날아갑니다. 위의 경우 삭제했던 파일도 복구되고 staging도 취소되죠.</p>
<p>결과적으로 <code>--hard</code> 옵션은 아래 코드와 같은 효과를 내줍니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset HEAD A.txt
git checkout -- A.txt
</code></pre></td></tr></table>
</div>
</div><p>마찬가지로 파일명을 명시해주지 않으면 모든 파일을 대상으로 reset이 진행됩니다.</p>
<h2 id="commit-수정하기">commit 수정하기</h2>
<h3 id="바로-직전-commit-수정하기">바로 직전 commit 수정하기</h3>
<p>바로 직전 commit에 추가할 파일들을 빼먹은 경우 해당 파일들을 staging 시켜주고 다음 명령을 치면 됩니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git commit --amend
</code></pre></td></tr></table>
</div>
</div><p>Vi에디터로 들어가는데, commit 메시지를 수정해주면 됩니다. commit 메시지만 수정하는 경우에도 위 명령을 실행해주면 됩니다</p>
<h3 id="reset으로-커밋-취소하기"><code>reset</code>으로 커밋 취소하기</h3>
<p>위에서 설명했듯이 <code>reset</code> 명령은 HEAD가 가리키는 commit을 변경해줍니다.
<code>--hard</code> 옵션 없이 <code>reset</code>만 해주면 변경사항은 남고 HEAD가 과거의 commit으로 되돌아가 커밋을 합치는 것과 같은 효과를 낼 수 있습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git log --oneline
c361f69 <span style="color:#ff79c6">(</span>HEAD -&gt; master<span style="color:#ff79c6">)</span> commit4
72d8e4e commit3
b48f3c3 commit2
317db86 commit1
</code></pre></td></tr></table>
</div>
</div><p>master의 history가 위와 같은 상태라고 합시다. 이 상태에서 HEAD를 commit 2일 때로 되돌리겠습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset b48f3c3
git log --oneline
b48f3c3 <span style="color:#ff79c6">(</span>HEAD -&gt; master<span style="color:#ff79c6">)</span> commit2
317db86 commit1
</code></pre></td></tr></table>
</div>
</div><p>변경사항은 남아있지만, HEAD는 commit2를 가리키게 된 것을 볼 수 있습니다.</p>
<p>HEAD 바로 직전의 commit으로 <code>reset</code> 하면 마치 <code>commit</code> 명령을 취소한 것과 같은 효과를 낼 수 있습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset HEAD~1
</code></pre></td></tr></table>
</div>
</div><p>HEAD~[숫자]는 &lsquo;HEAD에서 [숫자]만큼 거슬러 올라간다&rsquo;라는 의미입니다.</p>
<p><code>--hard</code> 옵션은 변경사항도 취소해버리기 때문에 앞의 commit들을 없던 commit으로 만들어 버릴 수 있습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># 3개의 commit 없애기</span>
git reset --hard HEAD~3
</code></pre></td></tr></table>
</div>
</div><h2 id="rebase-브랜치-커밋을-최신상태로-업데이트하기"><code>rebase</code>: 브랜치 커밋을 최신상태로 업데이트하기</h2>
<p>사실 <code>rebase</code>는 작업을 취소하는 명령은 아닙니다. 
<a target="_blank" href="https://dev2820.github.io/study/git/git%EC%A0%95%EB%A6%AC-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%B3%91%ED%95%A9/">
    브랜치 병합
</a>
<i class="fas fa-link"></i></p>
<p>위 글에서 다루듯, 브랜치를 merge 해줄 때 주로 사용합니다. 그럼 rebase는 정확히 뭘 하는 명령일까요?</p>
<p>rebase 명령을 수행하면 브랜치의 시작을 부모 브랜치의 가장 최신 commit에서 시작한 것처럼 바꿔줍니다.
<img src="../images/git-rebase.png" alt="git rebase 1">
[↑ rebase를 하기 전]
<img src="../images/git-rebase-2.png" alt="git rebase 2">
[↑ rebase를 한 뒤]</p>
<p>실수로 master 브랜치를 main 브랜치로 표기했네요. 설명은 master 브랜치로 하겠습니다. 헷갈리지 말아주세요.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># 자식 브랜치로 이동</span>
git checkout good-idea

<span style="color:#6272a4"># git rebase [부모 브랜치]</span>
git rebase master
</code></pre></td></tr></table>
</div>
</div><h3 id="언제-rebase-작업을-하게-되는가">언제 rebase 작업을 하게 되는가</h3>
<p>부모 브랜치를 최신으로 업데이트 해 주는 경우, 자식 브랜치들 또한 최신으로 업데이트 해주기 위해 사용합니다.</p>
<p>예를 들어, 여러분이 good-idea2 브랜치를 나누어 새로운 기능을 열심히 추가하던 와중, 원격 저장소의 master 브랜치가 갱신되어 새로운 commit들이 추가되었다고 합시다.</p>
<p>여러분은 <code>pull</code>명령을 통해 로컬 master 브랜치를 최신상태로 유지하게 됩니다. 하지만 good-idea2 브랜치는 여전히 이전 상태의 master 브랜치를 기준으로 코드가 작성되어 있습니다. 이 상태에선 good-idea2 브랜치에서 계속 작업을 하더라도 master 브랜치에서 적용할 수 없는 코드가 되어버립니다. 따라서 최신상태의 master 브랜치를 따라 good-idea2 브랜치도 최신상태로 업데이트 해 줘야 합니다.</p>
<h3 id="rebase의-원리-ctrlc-ctrlv">rebase의 원리: ctrl+c, ctrl+v</h3>
<p>사실 rebase는 위 그림처럼 간단하게 가리키는 부모 commit만 바꿔주는 게 아니라, 브랜치를 통째로 복사합니다. 통째로 복사해서 부모 commit이 부모 브랜치의 가장 최신 commit이 되도록 붙여넣고, 기존의 commit들은 삭제해버립니다. 따라서 commit의 hash 값이 바뀝니다.</p>
<p><img src="../images/git-rebase-3.png" alt="git rebase 3"></p>
<h2 id="rebase-충돌">rebase 충돌</h2>
<p>good-idea2 브랜치에선 A.txt 파일을 수정해 &lsquo;rebase test code add&rsquo; commit을 만들고 master 브랜치에선 A.txt 파일을 삭제하고 commit을 만들었습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6">6</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout -b good-idea2
<span style="color:#6272a4"># &#39;rebase test code add&#39; commit 생성</span>
git checkout master
<span style="color:#6272a4"># &#39;delete file&#39; commit 생성</span>
git checkout good-idea2 
git rebase master
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6">6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7">7</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">error: could not apply 53fa77e... rebase <span style="color:#8be9fd;font-style:italic">test</span> code add
Resolve all conflicts manually, mark them as resolved with
<span style="color:#f1fa8c">&#34;git add/rm &lt;conflicted_files&gt;&#34;</span>, <span style="color:#ff79c6">then</span> run <span style="color:#f1fa8c">&#34;git rebase --continue&#34;</span>.
You can instead skip this commit: run <span style="color:#f1fa8c">&#34;git rebase --skip&#34;</span>.
To abort and get back to the state before <span style="color:#f1fa8c">&#34;git rebase&#34;</span>, run <span style="color:#f1fa8c">&#34;git rebase --abort&#34;</span>.
Could not apply 53fa77e... rebase <span style="color:#8be9fd;font-style:italic">test</span> code add
CONFLICT <span style="color:#ff79c6">(</span>modify/delete<span style="color:#ff79c6">)</span>: A.txt deleted in HEAD and modified in 53fa77e <span style="color:#ff79c6">(</span>rebase <span style="color:#8be9fd;font-style:italic">test</span> code add<span style="color:#ff79c6">)</span>. Version 53fa77e <span style="color:#ff79c6">(</span>rebase <span style="color:#8be9fd;font-style:italic">test</span> code add<span style="color:#ff79c6">)</span> of A.txt left in tree.
</code></pre></td></tr></table>
</div>
</div><p>이런 오류가 뜨면서 rebase가 멈춥니다. HEAD는 이상한 곳을 가리키게 됩니다.</p>
<pre><code>(good-idea2|REBASE 1/1)
</code></pre><p>위 상황은 master 브랜치의 A.txt 파일은 삭제됐고 good-idea2 브랜치의 A.txt 파일은 여전히 존재해 수정되었기 때문에 충돌이 일어났고 유저에게 선택권을 준겁니다.</p>
<ul>
<li>master 브랜치를 따라 파일을 삭제한다.</li>
<li>good-idea2 브랜치를 따라 파일을 유지하고 수정한다.</li>
</ul>
<p>오류 내용에서 친절하게 알려주듯이, 유저는 이런 상황에서 3가지 명령을 수행할 수 있습니다.</p>
<ul>
<li>충돌을 해결하고, <code>git rebase --continue</code>를 수행한다. (충돌을 해결하고 rebase 진행)</li>
<li><code>git rebase --skip</code>: 이 충돌사항은 건너뛴다.</li>
<li><code>git rebase --abort</code>: rebase를 없던 일로 만든다.</li>
</ul>
<p>충돌을 해결하고 새로운 commit을 만든 뒤, <code>git rebase --continue</code>를 수행하면 다음 충돌사항으로 넘어가거나 rebase를 완료했다고 알려줍니다. 위 상황에선 reset을 통해 삭제된 파일을 되돌려줘야 합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git reset HEAD A.txt
</code></pre></td></tr></table>
</div>
</div><p>만일 파일 삭제가 아니라 파일 내부에 코드들이 충돌을 일으킨 경우라면 
<a target="_blank" href="https://dev2820.github.io/study/git/git%EC%A0%95%EB%A6%AC-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%B3%91%ED%95%A9/">
    브랜치 병합
</a>
<i class="fas fa-link"></i>에서 알려준 대로 충돌을 해결하면 됩니다.</p>
<p><code>git rebase --skip</code>은 충돌을 무시합니다. 이 경우 부모 브랜치의 commit만 유효해집니다. (따라서 위의 경우 A 파일은 삭제됩니다.)</p>
<p><code>git rebase --abort</code>는 그냥 rebase를 시작했던 것을 후회하며 rebase를 없던 일로 만들어 버립니다.</p>
<h2 id="인터랙티브-rebase">인터랙티브 rebase</h2>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#6272a4"># git rebase --interactive [기준 commit]</span>
git rebase --interactive HEAD~5

<span style="color:#6272a4"># git rebase -i [기준 commit]</span>
git rebase -i HEAD~5
</code></pre></td></tr></table>
</div>
</div><p><code>--interactive</code>옵션은 commit을 정리정돈하는 옵션입니다. 삭제, 합치기(squash), 커밋메시지 변경(amend) 등등을 대화형으로 한 번에 처리할 수 있습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6">6</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">9c44575 commit5
c981984 commit4
3840dec commit3
<span style="color:#bd93f9">0805289</span> commit2
323f12e commit1
5a564d5 commit0
</code></pre></td></tr></table>
</div>
</div><p>위와 같은 history가 존재한다고 합시다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git rebase -i HEAD~5
</code></pre></td></tr></table>
</div>
</div><p>323f12e commit을 기준으로 인터랙티브 rebase를 진행합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-11"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-11">11</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-12"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-12">12</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-13"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-13">13</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-14"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-14">14</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-15"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-15">15</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-16"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-16">16</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-17"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-17">17</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-18"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-18">18</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-19"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-19">19</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-20"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-20">20</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-21"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-21">21</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-22"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-22">22</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-23"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-23">23</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-24"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-24">24</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-25"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-25">25</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pick 323f12e commit1
pick <span style="color:#bd93f9">0805289</span> commit2
pick 3840dec commit3
pick c981984 commit4
pick 9c44575 commit5

<span style="color:#6272a4"># Rebase 5a564d5..9c44575 onto 5a564d5 (5 commands)</span>
<span style="color:#6272a4">#</span>
<span style="color:#6272a4"># Commands:</span>
<span style="color:#6272a4"># p, pick &lt;commit&gt; = use commit</span>
<span style="color:#6272a4"># r, reword &lt;commit&gt; = use commit, but edit the commit message</span>
<span style="color:#6272a4"># e, edit &lt;commit&gt; = use commit, but stop for amending</span>
<span style="color:#6272a4"># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span>
<span style="color:#6272a4"># f, fixup &lt;commit&gt; = like &#34;squash&#34;, but discard this commit&#39;s log message</span>
<span style="color:#6272a4"># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span>
<span style="color:#6272a4"># b, break = stop here (continue rebase later with &#39;git rebase --continue&#39;)</span>
<span style="color:#6272a4"># d, drop &lt;commit&gt; = remove commit</span>
<span style="color:#6272a4"># l, label &lt;label&gt; = label current HEAD with a name</span>
<span style="color:#6272a4"># t, reset &lt;label&gt; = reset HEAD to a label</span>
<span style="color:#6272a4"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span>
<span style="color:#6272a4"># .       create a merge commit using the original merge commit&#39;s</span>
<span style="color:#6272a4"># .       message (or the oneline, if no original merge commit was</span>
<span style="color:#6272a4"># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span>
<span style="color:#6272a4">#</span>
<span style="color:#6272a4"># These lines can be re-ordered; they are executed from top to bottom.</span>
</code></pre></td></tr></table>
</div>
</div><p>위와 같은 장황한 Vi에디터가 나옵니다. 기준 commit(HEAD~5)부터 역순으로 commit이 배치되고, 주석으로 어떻게 바꾸면 될지 알려줍니다. 원하는 대로 pick을 특정 명령으로 바꿔 저장하고 Vi에디터를 빠져나오면 됩니다.</p>
<p>기본적으로는 pick으로 설정되어있으나, 아주 많은 명령이 있지만, 대표적으로 r(reword),e(edit),s(squash),d(drop) 정도만 알아봅시다.</p>
<ul>
<li>reword(r): commit 메시지만 변경합니다.</li>
<li>edit(e): commit을 수정합니다.</li>
<li>squash(s): commit을 위의 commit과 합칩니다.</li>
<li>drop(d): commit을 삭제합니다.</li>
</ul>
<p>edit의 경우, commit의 <code>--amend</code> 옵션과 같습니다. HEAD를 특정 commit으로 돌려 <code>--amend</code>를 할 수 있는 상황으로 만들어줍니다. 그 다음은 변경사항을 추가해 <code>git commit --amend</code>를 진행한 뒤, <code>git rebase --continue</code>로 rebase를 이어나가면 됩니다.</p>
<p>squash는 특정 commit과 그 commit의 위 commit을 합쳐 commit 메시지를 다시 작성하게 합니다. 예를 들어 <code>squash c981984 commit4</code>로 바꾸면 commit3과 commit4를 합치고 commit 메시지를 입력할 Vi에디터를 띄웁니다.</p>
<h2 id="status-뭘-해야-할지-모를-때"><code>status</code>: 뭘 해야 할지 모를 때</h2>
<p>rebase뿐만 아니라 git 작업을 수행 중일 때 이제 무슨 명령을 입력해야 할지, 어디까지 진행됐는지 헷갈린다면 <code>git status</code> 명령을 입력하면 git이 현재 상태와 다음 명령어들을 알려줍니다.</p>
<h2 id="마치며">마치며</h2>
<p>다음 글에선 병합을 취소하는 revert, reset에 대해 알아보겠습니다.</p>

    </article>
    <aside id="right-aside">
      <div class="post-toc card" id="post-toc">
    <div class="post-toc-title">
        <span>차례</span>
    </div>
    <div id="table">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#삭제-변경된-파일-되돌리기">삭제, 변경된 파일 되돌리기</a></li>
    <li><a href="#reset-staging-취소하기"><code>reset</code>: staging 취소하기</a>
      <ul>
        <li><a href="#--hard-삭제하고-staging-한-파일-되돌리기"><code>--hard</code>: 삭제하고 staging 한 파일 되돌리기</a></li>
      </ul>
    </li>
    <li><a href="#commit-수정하기">commit 수정하기</a>
      <ul>
        <li><a href="#바로-직전-commit-수정하기">바로 직전 commit 수정하기</a></li>
        <li><a href="#reset으로-커밋-취소하기"><code>reset</code>으로 커밋 취소하기</a></li>
      </ul>
    </li>
    <li><a href="#rebase-브랜치-커밋을-최신상태로-업데이트하기"><code>rebase</code>: 브랜치 커밋을 최신상태로 업데이트하기</a>
      <ul>
        <li><a href="#언제-rebase-작업을-하게-되는가">언제 rebase 작업을 하게 되는가</a></li>
        <li><a href="#rebase의-원리-ctrlc-ctrlv">rebase의 원리: ctrl+c, ctrl+v</a></li>
      </ul>
    </li>
    <li><a href="#rebase-충돌">rebase 충돌</a></li>
    <li><a href="#인터랙티브-rebase">인터랙티브 rebase</a></li>
    <li><a href="#status-뭘-해야-할지-모를-때"><code>status</code>: 뭘 해야 할지 모를 때</a></li>
    <li><a href="#마치며">마치며</a></li>
  </ul>
</nav>
    </div>
</div>
    </aside>
  </section>
  <section id="section-move">
    <nav class="section-move">
    
      <a href="https://dev2820.github.io/study/git/git-%EC%A0%95%EB%A6%AC-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EB%B3%91%ED%95%A9/" class="previous card"> 
        <i class="fas fa-angle-double-left icon slide-left"></i>
        <div class="title">
          <small>prev</small>
          <span>[Git 정리] 브랜치 병합</span>
        </div>
      </a>
    
    
      <a href="https://dev2820.github.io/study/git/git-%EC%A0%95%EB%A6%AC-%EB%B3%91%ED%95%A9-%EC%B7%A8%EC%86%8C%ED%95%98%EA%B8%B0/" class="next card">
        <div class="title">
          <small>next</small>  
          <span>[Git 정리] 병합 취소하기</span>
        </div>
        <i class="fas fa-angle-double-right icon slide-right"></i>
      </a>
    
</nav>
  
  </section>
  <section id="meta">
    <div class="card">
      
      
<div class="category_breadcrumb_title">
    <h2 class="title"><i class="fas fa-folder icon"></i>Categories</h2>
</div>
<div class="category_breadcrumb">
    <a href="https://dev2820.github.io/categories/study" class="action name">
        
        study
    </a>
    <span class="action slash">/</span>
    
    <a href="https://dev2820.github.io/subcategories/git" class="action name">
        
        <span class="name">Git</span>     
    </a>
    
</div>


      <div class="tag_list_title">
    <h2 class="title"><i class="fas fa-hashtag icon"></i>Tags</h2>
</div>
<ul class="tags tag_list">
    
        <li><a href="https://dev2820.github.io/tags/study/" class="action"><i class="fas fa-hashtag icon"></i>study</a></li>
    
        <li><a href="https://dev2820.github.io/tags/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B8%B0%EC%88%A0/" class="action"><i class="fas fa-hashtag icon"></i>컴퓨터 기술</a></li>
    
        <li><a href="https://dev2820.github.io/tags/%EA%B3%B5%EB%B6%80%EC%A0%95%EB%A6%AC/" class="action"><i class="fas fa-hashtag icon"></i>공부정리</a></li>
    
        <li><a href="https://dev2820.github.io/tags/git/" class="action"><i class="fas fa-hashtag icon"></i>git</a></li>
    
        <li><a href="https://dev2820.github.io/tags/%EB%B2%84%EC%A0%84%EA%B4%80%EB%A6%AC/" class="action"><i class="fas fa-hashtag icon"></i>버전관리</a></li>
    
</ul>

      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "dev2820-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </section>
</main>

  <footer id="footer" class="bg-cover" style="background-image:url(/images/footer.png)">
    <button onclick="scrollToTop()" class="scroll-to-top card">
      <i class="fas fa-angle-double-up icon"></i>
    </button>
    <button onclick="scrollToBottom()" class="scroll-to-bottom card">
      <i class="fas fa-angle-double-down icon"></i>
    </button>
    
    <div class="center"><div class="share">
    <a href ="https://github.com/dev2820">
        <i class="fab fa-github icon"></i>
    </a>
    <a href ="https://mailto:second28200@gmail.com">
        <i class="fas fa-envelope icon"></i>
    </a> 
    <a href ="/index.xml">
        <i class="fas fa-rss icon"></i>
    </a>
</div><div class="copyright center">
        <span>COPYRIGHT 2021-2021. <a href="https://dev2820.github.io"> GIJO YANG (DEV2820).</a></span>
        <span>ALL RIGHTS RESERVED.</span>
      </div>
    </div>
  </footer>
</body>
</html>
  <script id="dsq-count-scr" src="//dev2820-github-io.disqus.com/count.js" async></script>
    </body>
</html>

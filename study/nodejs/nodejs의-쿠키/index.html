<!DOCTYPE html>
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nodejs의 쿠키  | dev2820 개발일지</title>
    <meta name="description"
        content="dev2820의 개발일지 저장소 'nodejs의 쿠키'을 한 번 살펴보세요.">
    <meta property="og:title" content="nodejs의 쿠키">
    
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2021-05-24">
    
    <meta property="og:description"
        content="dev2820의 개발일지 저장소 'nodejs의 쿠키'을 한 번 살펴보세요.">
    <meta property="og:url" content="https://dev2820.github.io/study/nodejs/nodejs%EC%9D%98-%EC%BF%A0%ED%82%A4/">
    <meta property="og:site_name" content="dev2820 개발일지">
    
    <meta property="og:image" content="https://dev2820.github.io/images/thumbnail.png">
    
    
    <meta property="og:tags" content="study">
    
    <meta property="og:tags" content="컴퓨터 기술">
    
    <meta property="og:tags" content="공부정리">
    
    <meta property="og:tags" content="web">
    
    <meta property="og:tags" content="쿠키">
    
    <meta property="og:tags" content="cookie">
    
    <meta property="og:tags" content="nodejs">
    
    <meta property="og:tags" content="express">
    
    
    <link rel="icon" href="https://dev2820.github.io/images/favicon_32.png" type="image/png" sizes="32x32">
    <link rel="canonical" href="https://dev2820.github.io/study/nodejs/nodejs%EC%9D%98-%EC%BF%A0%ED%82%A4/">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap">
    <link rel="stylesheet" href="/css/styles.css">
    
    
    
    
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TTD4CD0DNR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-TTD4CD0DNR');
    </script>
    
    
    
    <script src="/js/default.js"></script>
    
</head>
<body id="body">
        <div id="loader">
            <span class="description">
                loading
            </span>
        </div><div id="topbar" class="card">
  <div class="menus">
    <div class="logo">
      <a href="/">
        
        <img src="/images/site_logo_dark.png" height="32px" width="96px"/>
        
      </a>
    </div>
    <div class="burger">
      <button onclick="event.stopPropagation(); goToUrl('/search')">
        <i class="fa fa-search fa-2x" aria-hidden="true"></i>
      </button>
      <button onclick="event.stopPropagation(); toggleAside(true)">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
      </button>
    </div>
  </div>
</div><aside id="left-aside">
    <div class="profile-container">
        <div class="profile">
    <div class="cover">
        
        <img src="/images/cover.jpg" class="round-card">
        
    </div>
    
    
    <h2>dev2820</h2>
    
    <p>풀스텍 웹개발을 지향합니다</p>
    <div class="center">
        <div class="share">
    <a href ="https://github.com/dev2820">
        <i class="fab fa-github icon"></i>
    </a>
    <a href ="https://mailto:second28200@gmail.com">
        <i class="fas fa-envelope icon"></i>
    </a> 
    <a href ="/index.xml">
        <i class="fas fa-rss icon"></i>
    </a>
</div>
    </div>
</div>
    </div>
    <div class="navigation-container">
        <nav class="aside-menu center">
            <ul>
                <li>
                    <i class="fas fa-home icon"></i>
                    <a href="https://dev2820.github.io/">Home</a>
                </li>
                <li>
                    <i class="fas fa-list icon"></i>
                    <a href="https://dev2820.github.io//categories">Categories</a>
                </li>
                <li>
                    <i class="fas fa-tags icon"></i>
                    <a href="https://dev2820.github.io//tags">Tags</a>
                </li>
                <li>
                    <i class="fas fa-search icon"></i>
                    <a href="https://dev2820.github.io//search">Search</a>
                </li>
                <li>
                    <i class="fas fa-user icon"></i>
                    <a href="https://dev2820.github.io//about">About</a>
                </li>
            </ul>
        </nav>
    </div>
</aside>

<header id="single-header" class="card-inset bg-cover">

  <div class="curtain center">
    <a class="go-back" href="javascript:history.back()"><i class="fas fa-arrow-left icon"></i></a>
    <h1 class="title">nodejs의 쿠키</h1>
    <div class="meta-data appear-300ms">
      <p class="date"> <i class="far fa-calendar icon"></i> 2021.05.24 </p>
      <p class="wordcount"> <i class="far fa-clock icon"></i> 8m</p>
    </div>
  </div>
</header>

<main id="single-main">
  <div class="roller"></div>
  <section id="content" class="appear-700ms">
    <article class="content card">
      <p>쿠키에 대해 조사한 내용 + 알던 내용 정리 + nodejs, express 예제 글입니다.</p>
<h2 id="쿠키">쿠키</h2>
<p>쿠키는 클라이언트 측(브라우저)에 저장되는 key-value 형식의 데이터파일입니다. 브라우저에서도 쿠키를 볼 수 있습니다.</p>
<p>request, response의 헤더에 Set-Cookie를 설정해 서버와 클라이언트 간에 쿠키를 주고받을 수 있습니다. 서버 측에서 response의 헤더에 Set-Cookie를 통해 새 쿠키를 생성하면 브라우저에 쿠키가 추가되고, 브라우저에서 request가 발생하면 서버 측에서 request의 헤더로부터 그 브라우저의 모든 쿠키를 읽을 수 있습니다.
쿠키엔 key-value 말고도 만료 기간, 도메인, 경로, HttpOnly, Secure 등을 설정할 수 있습니다.
주로 온라인 쇼핑몰에서 최근에 본 상품, 장바구니 등에 사용됩니다.</p>
<h2 id="nodejsexpress에서의-쿠키">nodejs,express에서의 쿠키</h2>
<p>nodejs를 통해 간단한 http 서버를 만들어 쿠키를 확인해봅시다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ff79c6">const</span> http <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;http&#39;</span>);
<span style="color:#ff79c6">const</span> PORT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3001</span>;
http.createServer((request, response) =&gt;{
 <span style="color:#ff79c6">if</span>(request.headers.cookie){
 console.log(request.headers.cookie);
 }
 response.end(<span style="color:#f1fa8c">&#39;cookie test&#39;</span>);
}).listen(PORT,()=&gt;{
 console.log(<span style="color:#f1fa8c">`server on:</span><span style="color:#f1fa8c">${</span>PORT<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
});
</code></pre></td></tr></table>
</div>
</div><p>3001번 포트를 사용하는 http 서버를 하나 만들었습니다.
<figure role="img">
    <img src="images/_ga%20%ec%bf%a0%ed%82%a4.png" alt="nodejs cookie">
    <figcaption>- 
console에 찍힌 쿠키들
 -</figcaption>
</figure>
<br/></p>
<p>콘솔 창에 2개의 쿠키가 찍힌 것을 볼 수 있습니다.
브라우저에서 F12-&gt;Application-&gt;Cookies를 눌러보면 똑같은 쿠키를 확인할 수 있습니다.
<figure role="img">
    <img src="images/_ga%20%ec%bf%a0%ed%82%a42.png" alt="nodejs cookie 2">
    <figcaption>- 
브라우저에 찍힌 쿠키들
 -</figcaption>
</figure>
<br/>
위와 같이 쿠키는 클라이언트와 서버 양쪽에서 확인할 수 있습니다.
nodejs에선 request 객체를 통해 쿠키를 확인할 수 있습니다.</p>
<h2 id="_ga로-시작하는-쿠키들">_ga로 시작하는 쿠키들</h2>
<p><code>_ga</code>로 시작하는 생성 한적 없는 쿠키가 찍히는 것을 확인할 수 있는데, _ga 쿠키는 
구글 애널리틱스에서 고유 사용자 식별에 사용하는 쿠키입니다. 제 경우는 Whale 브라우저라서 저게 뜨는 것 같네요.</p>
<p>더 자세한 내용은 아래 링크들을 참고하세요<br>
<a href="https://analyticsmarketing.co.kr/digital-analytics/google-analytics/1655/">https://analyticsmarketing.co.kr/digital-analytics/google-analytics/1655/</a><br>
<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage">https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage</a></p>
<h3 id="브라우저에서-쿠키-추가하기">브라우저에서 쿠키 추가하기</h3>
<p>쿠키의 특징 중 하나는 클라이언트에서 쿠키를 추가하거나 삭제, 변경할 수 있다는 점입니다.</p>
<p><figure role="img">
    <img src="images/%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%ec%97%90%ec%84%9c%20%ec%bf%a0%ed%82%a4%20%ec%b6%94%ea%b0%80.png" alt="브라우저 쿠키 추가">
    <figcaption>- 
브라우저에 쿠키 추가하기
 -</figcaption>
</figure>
<br/>
<figure role="img">
    <img src="images/%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%ec%97%90%ec%84%9c%20%ec%bf%a0%ed%82%a4%20%ec%b6%94%ea%b0%802.png" alt="브라우저 쿠키 추가">
    <figcaption>- 
브라우저에 쿠키 추가하기2
 -</figcaption>
</figure>
<br/>
<code>test-cookie</code>라는 이름의 쿠키를 하나 추가했습니다.</p>
<h3 id="자바스크립트로-쿠키-추가하기">자바스크립트로 쿠키 추가하기</h3>
<p>개발자모드 창을 통하지 않고 javascript를 통해 쿠키를 읽고 쓸 수 있습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">console.log(<span style="color:#8be9fd;font-style:italic">document</span>.cookie) <span style="color:#6272a4">// 쿠키 출력
</span></code></pre></td></tr></table>
</div>
</div><p><figure role="img">
    <img src="images/js%eb%a1%9c%20%ec%bf%a0%ed%82%a4%ec%b6%94%ea%b0%80.png" alt="js로 쿠키 추가">
    <figcaption>- 
위는 test-cookie 추가 전, 아래는 test-cookie 추가 후
 -</figcaption>
</figure>
<br/>
클라이언트에서 document 객체의 cookie를 확인해보면 같은 문자열을 확인할 수 있습니다. 위 사진에선 브라우저에 <code>test-cookie</code> 쿠키를 추가하기 전 <code>document.cookie</code>와 <code>test-cookie</code> 쿠키를 추가한 후 <code>document.cookie</code>를 출력한 것 입니다; <code>;</code>로 구분된 쿠키들을 볼 수 있습니다.</p>
<p>쿠키가 String으로 출력되는 것에서 알 수 있듯, 쿠키는 String 형태로 request 헤더, response 헤더에 쓰입니다. 뭐&hellip; 당연한 얘기입니다.</p>
<p>아쉽게도 쿠키는 원문 String 그대로 저장되기 때문에 클라이언트에서 cookie 모듈을 만들어 사용하는 것이 좋습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-11"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-11">11</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-12"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-12">12</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-13"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-13">13</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-14"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-14">14</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-15"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-15">15</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> {
    setCookie(name,value,time) {
        <span style="color:#ff79c6">const</span> date <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> <span style="color:#8be9fd;font-style:italic">Date</span>();
        date.setTime(date.getTime() <span style="color:#ff79c6">+</span> time);
        <span style="color:#8be9fd;font-style:italic">document</span>.cookie <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">=</span><span style="color:#f1fa8c">${</span>value<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">;expires=</span><span style="color:#f1fa8c">${</span>date.toUTCString()<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">;path=&#39;/&#39;`</span>;
    },
    getCookie(name) {
        <span style="color:#ff79c6">const</span> value <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.cookie.match(<span style="color:#f1fa8c">`(^|;)?</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">=([^;]*)(;|$)`</span>);
        <span style="color:#ff79c6">return</span> value<span style="color:#ff79c6">?</span> value[<span style="color:#bd93f9">2</span>] <span style="color:#ff79c6">:</span> <span style="color:#ff79c6">null</span>;
    },
    deleteCookie(name) {
        <span style="color:#ff79c6">const</span> date <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> <span style="color:#8be9fd;font-style:italic">Date</span>();
        <span style="color:#8be9fd;font-style:italic">document</span>.cookie <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">=&#39;&#39;;expires=</span><span style="color:#f1fa8c">${</span>date.toUTCString()<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">;path=/`</span>;
    }
}
</code></pre></td></tr></table>
</div>
</div><p>제가 사용하는 자작 cookie 모듈입니다. 간단하게 만들어서 간단한 쿠키 생성, 간단한 쿠키 파싱, 쿠키 삭제만 가능합니다. 간단간단간단간단</p>
<p>나중에 좀 더 업그레이드된 cookie 모듈을 만들면 따로 블로그에 올리겠습니다.</p>
<h3 id="nodejs에서-쿠키-다루기">nodejs에서 쿠키 다루기</h3>
<p><code>request.cookie</code>를 통해 쿠키를 읽어왔었죠. 마찬가지로 nodejs에서 <code>request.cookie</code>를 출력해보면 String이 나옵니다. nodejs에선 cookie 모듈을 npm으로 받아서 사용합시다.</p>
<p>아래 링크의 cookie를 사용합니다.<br>
<a href="https://www.npmjs.com/package/cookie">https://www.npmjs.com/package/cookie</a></p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm i cookie
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-11"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-11">11</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-12"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-12">12</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-13"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-13">13</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ff79c6">const</span> http <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;http&#39;</span>);
<span style="color:#ff79c6">const</span> cookie <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;cookie&#39;</span>); <span style="color:#6272a4">// cookie 모듈 추가
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> PORT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3001</span>;
http.createServer((request, response) =&gt;{
 <span style="color:#ff79c6">if</span>(request.headers.cookie){
 console.log(request.headers.cookie); <span style="color:#6272a4">// request 헤더 출력
</span><span style="color:#6272a4"></span> <span style="color:#ff79c6">const</span> cookies <span style="color:#ff79c6">=</span> cookie.parse(request.headers.cookie);
 console.log(cookies); <span style="color:#6272a4">// cookie 모듈을 통해 헤더를 파싱한 결과 출력
</span><span style="color:#6272a4"></span> }
 response.end(<span style="color:#f1fa8c">&#39;cookie test&#39;</span>);
}).listen(PORT,()=&gt;{
 console.log(<span style="color:#f1fa8c">`server on:</span><span style="color:#f1fa8c">${</span>PORT<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
});
</code></pre></td></tr></table>
</div>
</div><p>코드를 위와 같이 수정하고 다시 시작해 봅시다..
<figure role="img">
    <img src="images/nodejs%ec%99%80%20%ec%bf%a0%ed%82%a4.png" alt="nodejs로 쿠키 출력">
    <figcaption>- 
nodejs로 쿠키 출력
 -</figcaption>
</figure>
<br/>
String이 깔끔하게 객체화된 것을 볼 수 있습니다.</p>
<p>그럼 서버 측(nodejs)에서 쿠키를 생성해봅시다. 서버에선 response의 헤더를 통해 쿠키를 설정합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-11"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-11">11</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-12"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-12">12</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-13"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-13">13</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-14"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-14">14</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-15"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-15">15</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-16"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-16">16</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-17"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-17">17</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-18"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-18">18</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ff79c6">const</span> http <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;http&#39;</span>);
<span style="color:#ff79c6">const</span> cookie <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;cookie&#39;</span>); <span style="color:#6272a4">// cookie 모듈 추가
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> PORT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3001</span>;
http.createServer((request, response) =&gt;{
    <span style="color:#ff79c6">if</span>(request.headers.cookie){
        console.log(request.headers.cookie);
        <span style="color:#ff79c6">const</span> cookies <span style="color:#ff79c6">=</span> cookie.parse(request.headers.cookie);
        console.log(cookies);
    }
    <span style="color:#6272a4">/*nodejs에서 쿠키 추가*/</span>
    response.setHeader(<span style="color:#f1fa8c">&#39;Set-Cookie&#39;</span>, cookie.serialize(<span style="color:#f1fa8c">&#39;test-cookie2&#39;</span>,<span style="color:#f1fa8c">&#39;5678&#39;</span>, {
        httpOnly<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">false</span>,
        maxAge<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">60</span> <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">60</span> <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">24</span>
    }));
    response.end(<span style="color:#f1fa8c">&#39;cookie test&#39;</span>);
}).listen(PORT,()=&gt;{
    console.log(<span style="color:#f1fa8c">`server on:</span><span style="color:#f1fa8c">${</span>PORT<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
});
</code></pre></td></tr></table>
</div>
</div><p>위 예제 코드에선 cookie 모듈을 이용해 <code>test-cookie2</code> 쿠키를 만들어줍니다. 옵션은 좀 이따 보고 일단 브라우저에 쿠키가 생성되었는지 확인해봅시다.</p>
<figure role="img">
    <img src="images/nodejs%ec%99%80%20%ec%bf%a0%ed%82%a42.png" alt="nodejs로 쿠키 출력">
    <figcaption>- 
nodejs로 생성한 쿠키 확인
 -</figcaption>
</figure>
<br/>
<p><code>test-cookie2</code>가 생성된 것을 확인할 수 있습니다.</p>
<p>위의 쿠키 추가 코드는 아래 코드와 동일합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#6272a4">/*cookie모듈 없이 nodejs에서 쿠키 추가*/</span>
response.setHeader(<span style="color:#f1fa8c">&#39;Set-Cookie&#39;</span>,<span style="color:#f1fa8c">`test-cookie2=5678; Max-Age=</span><span style="color:#f1fa8c">${</span><span style="color:#bd93f9">60</span><span style="color:#ff79c6">*</span><span style="color:#bd93f9">60</span><span style="color:#ff79c6">*</span><span style="color:#bd93f9">24</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
</code></pre></td></tr></table>
</div>
</div><h2 id="쿠키의-옵션">쿠키의 옵션</h2>
<p>쿠키엔 key-value 말고도 여러 옵션을 줄 수 있습니다.</p>
<ul>
<li>Expires: 쿠키가 만료되는 날짜</li>
<li>maxAge: 쿠키가 사라지기까지 남은 기간(초)</li>
<li>Domain: 쿠키가 사용되는 도메인</li>
<li>Path: 특정 경로에 접근 시 쿠키 전송</li>
<li>Secure: https 통신에서만 쿠키 전송</li>
<li>HttpOnly: 클라이언트 측에서 쿠키 접근 방지</li>
</ul>
<p>옵션들은 헤더에 <code>;</code>로 구분해 추가해주면 됩니다. expires와 maxAge가 충돌하면 maxAge를 더 우선시합니다.</p>
<p>nodejs에서 옵션이 달린 쿠키를 만들어봅시다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-11"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-11">11</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-12"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-12">12</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-13"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-13">13</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-14"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-14">14</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-15"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-15">15</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-16"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-16">16</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-17"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-17">17</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-18"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-18">18</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-19"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-19">19</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ff79c6">const</span> http <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;http&#39;</span>);
<span style="color:#ff79c6">const</span> cookie <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;cookie&#39;</span>); <span style="color:#6272a4">// cookie 모듈 추가
</span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> PORT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3001</span>;
http.createServer((request, response) =&gt;{
    <span style="color:#ff79c6">if</span>(request.headers.cookie){
        console.log(request.headers.cookie);
        <span style="color:#ff79c6">const</span> cookies <span style="color:#ff79c6">=</span> cookie.parse(request.headers.cookie);
        console.log(cookies);
    }
    <span style="color:#6272a4">/*nodejs에서 쿠키 추가*/</span>
    response.setHeader(<span style="color:#f1fa8c">&#39;Set-Cookie&#39;</span>, cookie.serialize(<span style="color:#f1fa8c">&#39;test-cookie2&#39;</span>,<span style="color:#f1fa8c">&#39;5678&#39;</span>, {
        httpOnly<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
        maxAge<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">60</span> <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">60</span> <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">24</span>,
        path<span style="color:#ff79c6">:</span><span style="color:#f1fa8c">&#39;/&#39;</span>
    }));
    response.end(<span style="color:#f1fa8c">&#39;cookie test&#39;</span>);
}).listen(PORT,()=&gt;{
    console.log(<span style="color:#f1fa8c">`server on:</span><span style="color:#f1fa8c">${</span>PORT<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>);
});
</code></pre></td></tr></table>
</div>
</div><p><code>test-cookie2</code>에 <code>path</code>,<code>maxAge</code>,<code>httpOnly</code>옵션을 줬습니다. maxAge 옵션은 <code>현재시간 + 주어진 시간</code>을  Expires로 설정합니다. maxAge 초가 지나면 쿠키는 자동으로 삭제됩니다.</p>
<figure role="img">
    <img src="images/nodejs%ec%99%80%20%ec%bf%a0%ed%82%a43.png" alt="nodejs로 쿠키 출력">
    <figcaption>- 
옵션이 추가된 쿠키
 -</figcaption>
</figure>
<br/>
<p>HttpOnly에 체크표시가 생긴 것을 볼 수 있습니다. httpOnly를 true로 설정해줬기 때문인데, 브라우저에서 <code>document.cookie</code>를 출력해보겠습니다.</p>
<figure role="img">
    <img src="images/nodejs%ec%99%80%20%ec%bf%a0%ed%82%a44.png" alt="nodejs로 쿠키 출력">
    <figcaption>- 
test-cookie2가 출력되지 않는다.
 -</figcaption>
</figure>
<br/>
<p>이제 document.cookie로 test-cookie2에 접근할 수 없습니다.</p>
<p>위의 쿠키 옵션 추가 코드는 아래 코드와 동일합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#6272a4">/*cookie모듈 없이 nodejs에서 쿠키 추가*/</span>
response.setHeader(<span style="color:#f1fa8c">&#39;Set-Cookie&#39;</span>,<span style="color:#f1fa8c">`test-cookie2=5678; Max-Age=</span><span style="color:#f1fa8c">${</span><span style="color:#bd93f9">60</span><span style="color:#ff79c6">*</span><span style="color:#bd93f9">60</span><span style="color:#ff79c6">*</span><span style="color:#bd93f9">24</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">; path=/; HttpOnly`</span>);
</code></pre></td></tr></table>
</div>
</div><h2 id="쿠키의-보안-문제">쿠키의 보안 문제</h2>
<p>쿠키에 httpOnly 옵션이 있는 이유는 자바스크립트를 통해 유저의 cookie정보에 접근할 수 있어서 해커들이 유저의 cookie 정보를 가로채는 상황(하이재킹)이 발생할 수 있기 때문입니다. 따라서 쿠키를 생성할 땐 쿠키에 개인정보가 담기지 않도록 조심해야하며, httpOnly 옵션을 설정해주는 것이 좋습니다.</p>
<p>쿠키엔 Secure 옵션도 존재하는데, 이 옵션은 Https 프로토콜을 사용하는 경우에만 쿠키를 전송하도록 설정하는 옵션입니다. 네트워크 정보를 스니핑하는 등의 네트워크상에서 발생하는 해킹을 막기 위한 옵션입니다. Https에선 쿠키가 암호화되어 전송되기 때문에 http에서 쿠키를 사용하는 것보다 안전합니다. 물론 쿠키에 개인정보나 위험한 정보가 담기는 상황 자체가 바람직하지 않습니다.</p>
<h2 id="쿠키의-종류">쿠키의 종류</h2>
<ul>
<li>Session Cookie</li>
<li>Persistent Cookie</li>
<li>Secure Cookie</li>
<li>Third-Party Cookie</li>
</ul>
<h3 id="session-cookie">Session Cookie</h3>
<p>메모리상으로만 존재하며 브라우저 종료 시 또는 만료 시 사라지는 쿠키입니다. Expires/maxAge 설정을 해주지 않으면 session 쿠키가 됩니다.</p>
<h3 id="persistent-cookie">Persistent Cookie</h3>
<p>쿠키 파일로 만들어져 저장되어, 브라우저를 종료하더라도 사라지지 않는 쿠키입니다. Expires/maxAge를 설정해주면 persistent 쿠키가 됩니다.</p>
<h3 id="secure-cookie">Secure Cookie</h3>
<p>암호화된 쿠키입니다. http 통신에선 이용 불가능하고, Https 통신에서 사용할 수 있습니다. secure옵션이 설정되면 Secure Cookie가 됩니다.</p>
<h3 id="third-party-cookie">Third-Party Cookie</h3>
<p>내가 접속한 도메인에 생성된 쿠키는 First-party Cookie, 내가 접속하지 않은 도메인에 생기는 쿠키는 Third-Party Cookie입니다. 예를 들어, 옥션에서 신발을 검색한 경우, 다른 사이트에 나오는 광고에서 신발과 관련된 광고가 나오는 것을 본 적 있을 겁니다. 이것은 신발을 검색한 결과 Third-Party Cookie가 생성되고, 다른 도메인에 접속해도 이 쿠키를 바탕으로 사용자를 추적해 광고를 띄우는 것입니다.</p>
<p>물론 프라이버시 침해의 여지가 있습니다. 내가 검색한 내용을 다른 사이트들이 돌려가면서 사용하는 거니까요.</p>
<p>다행히 아래 링크를 보면 앞으로 1년 안에 이 Third-Party Cookie를 차단한다고 하네요.
<a href="http://www.openads.co.kr/content/contentDetail?contsId=3791">http://www.openads.co.kr/content/contentDetail?contsId=3791</a></p>
<h2 id="express에서-쿠키-사용하기">Express에서 쿠키 사용하기</h2>
<p>express에는 쿠키를 다루기 위한 미들웨어가 존재합니다.
<code>cookie-parser</code>가 그것이죠.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm i cookie-parser
</code></pre></td></tr></table>
</div>
</div><p>위 명령으로 cookie-parser를 설치할 수 있고, express-generator로 웹앱을 생성한 경우엔 cookie-parser가 기본적으로 package.json에 포함되어 있습니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#ff79c6">const</span> cookieParser <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;cookie-parser&#39;</span>);
<span style="color:#6272a4">//...
</span><span style="color:#6272a4"></span>app.use(cookieParser(<span style="color:#f1fa8c">&#39;secret-code&#39;</span>));
</code></pre></td></tr></table>
</div>
</div><p>위와 같은 방식으로 cookie-parser를 달아줄 수 있습니다.
cookie-parser의 파라미터로 string을 넘겨줄 수 있는데(위 예제의 경우 <code>secret-code</code>), 이 string은 쿠키의 변형을 감지할 때 사용합니다.</p>
<p>이 미들웨어는 req.cookies에 들어있는 String을 parsing해 객체로 바꿔주고, res에서 cookie 메소드를 통해 쿠키를 생성, 관리해줄 수 있게 해줍니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1"> 1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2"> 2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3"> 3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4"> 4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5"> 5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6"> 6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7"> 7</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-8"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-8"> 8</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-9"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-9"> 9</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-10"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-10">10</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-11"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-11">11</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-12"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-12">12</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-13"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-13">13</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-14"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-14">14</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-15"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-15">15</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-16"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-16">16</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#6272a4">//express 코드임
</span><span style="color:#6272a4">//쿠키에 접근
</span><span style="color:#6272a4"></span>console.log(req.cookies);

<span style="color:#6272a4">//쿠키 생성 &amp; 변경
</span><span style="color:#6272a4"></span>res.cookie(<span style="color:#f1fa8c">&#39;test-cookie&#39;</span>,<span style="color:#f1fa8c">&#39;1234&#39;</span>);

<span style="color:#6272a4">// 쿠키 생성 + 옵션
</span><span style="color:#6272a4"></span>res.cookie(<span style="color:#f1fa8c">&#39;test-cookie&#39;</span>,<span style="color:#f1fa8c">&#39;1234&#39;</span>,{
    maxAge<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">60</span><span style="color:#ff79c6">*</span><span style="color:#bd93f9">60</span><span style="color:#ff79c6">*</span><span style="color:#bd93f9">24</span>,
    httpOnly<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
    secure<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>
});

<span style="color:#6272a4">//쿠키 삭제
</span><span style="color:#6272a4"></span>res.clearCookie((<span style="color:#f1fa8c">&#39;test-cookie&#39;</span>);
</code></pre></td></tr></table>
</div>
</div><h3 id="signed-cookie">signed cookie</h3>
<p>cookie-parser는 쿠키가 변형이 일어났는지 판단할 수 있도록 <code>signed</code>라는 옵션을 제공합니다. (변형되지 않은 쿠키를 signed cookie라고 합니다.)</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">app.use(cookieParser(<span style="color:#f1fa8c">&#39;secret-code&#39;</span>));
</code></pre></td></tr></table>
</div>
</div><p>앞서 cookie-parser를 생성할 때 파라미터로 넘겨준 &lsquo;secret-code&rsquo;를 비밀키로 사용해 쿠키의 value에 변형이 있었는지 판단합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-2"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-2">2</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-3"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-3">3</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-4"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-4">4</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-5"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-5">5</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-6"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-6">6</a>
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-7"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-7">7</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#6272a4">//signed cookie 생성
</span><span style="color:#6272a4"></span>response.cookie(<span style="color:#f1fa8c">&#39;test-cookie&#39;</span>,<span style="color:#f1fa8c">&#39;1234&#39;</span>,{
    signed<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>
});

<span style="color:#6272a4">//변형되지 않은 cookie 확인
</span><span style="color:#6272a4"></span>console.log(req.signedCookies);
</code></pre></td></tr></table>
</div>
</div><p>쿠키를 생성할 때 <code>signed</code> 옵션을 주게 되면 이 쿠키의 value는 암호화되어 클라이언트에 전달됩니다.</p>
<p>다시 이 쿠키가 request로 express에 전달될 때, req.signedCookies엔 signed 옵션이 사용되었고, 변형되지 않은 쿠키만 포함됩니다. (req.cookies엔 변형된 쿠키를 포함해 모든 쿠키가 들어있습니다)</p>
<p>cookie-parser 자체에도 signed 여부를 판단하기 위한 메소드를 제공합니다.</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="prefix-1"><a style="outline: none; text-decoration:none; color:inherit" href="#prefix-1">1</a>
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">cookieParser.signedCookie(str,secret);
</code></pre></td></tr></table>
</div>
</div><p>암호화된 쿠키와 비밀키(&lsquo;secret-code&rsquo;)를 집어넣었을 때, signed 쿠키이며, 알맞은 비밀키를 사용했다면, decode 된 결과를 얻을 수 있습니다. 그렇지 않다면 false를 반환합니다.</p>
<p>자세한 사용법은 아래 링크를 참고해 주세요.<br>
<a href="https://www.npmjs.com/package/cookie-parser">https://www.npmjs.com/package/cookie-parser</a></p>
<h2 id="마치며">마치며</h2>
<p>원래 쿠키와 세션을 묶어서 쓰려고 했는데 쿠키만으로도 이미 글이 너무 방대해서 세션은 다음 글에서 다루려고 합니다.</p>
<h2 id="참고한-링크">참고한 링크</h2>
<p><a href="https://analyticsmarketing.co.kr/digital-analytics/google-analytics/1655/">https://analyticsmarketing.co.kr/digital-analytics/google-analytics/1655/</a><br>
<a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage">https://developers.google.com/analytics/devguides/collection/analyticsjs/cookie-usage</a><br>
<a href="https://www.npmjs.com/package/cookie">https://www.npmjs.com/package/cookie</a><br>
<a href="https://nesoy.github.io/articles/2017-03/Session-Cookie">https://nesoy.github.io/articles/2017-03/Session-Cookie</a><br>
<a href="https://nsinc.tistory.com/121">https://nsinc.tistory.com/121</a><br>
<a href="https://xlos.tistory.com/1776">https://xlos.tistory.com/1776</a><br>
<a href="http://www.openads.co.kr/content/contentDetail?contsId=3791">http://www.openads.co.kr/content/contentDetail?contsId=3791</a><br>
<a href="https://www.npmjs.com/package/cookie-parser">https://www.npmjs.com/package/cookie-parser</a></p>

    </article>
    <aside id="right-aside">
      <div class="post-toc card" id="post-toc">
    <div class="post-toc-title">
        <span>차례</span>
    </div>
    <div id="table">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#쿠키">쿠키</a></li>
    <li><a href="#nodejsexpress에서의-쿠키">nodejs,express에서의 쿠키</a></li>
    <li><a href="#_ga로-시작하는-쿠키들">_ga로 시작하는 쿠키들</a>
      <ul>
        <li><a href="#브라우저에서-쿠키-추가하기">브라우저에서 쿠키 추가하기</a></li>
        <li><a href="#자바스크립트로-쿠키-추가하기">자바스크립트로 쿠키 추가하기</a></li>
        <li><a href="#nodejs에서-쿠키-다루기">nodejs에서 쿠키 다루기</a></li>
      </ul>
    </li>
    <li><a href="#쿠키의-옵션">쿠키의 옵션</a></li>
    <li><a href="#쿠키의-보안-문제">쿠키의 보안 문제</a></li>
    <li><a href="#쿠키의-종류">쿠키의 종류</a>
      <ul>
        <li><a href="#session-cookie">Session Cookie</a></li>
        <li><a href="#persistent-cookie">Persistent Cookie</a></li>
        <li><a href="#secure-cookie">Secure Cookie</a></li>
        <li><a href="#third-party-cookie">Third-Party Cookie</a></li>
      </ul>
    </li>
    <li><a href="#express에서-쿠키-사용하기">Express에서 쿠키 사용하기</a>
      <ul>
        <li><a href="#signed-cookie">signed cookie</a></li>
      </ul>
    </li>
    <li><a href="#마치며">마치며</a></li>
    <li><a href="#참고한-링크">참고한 링크</a></li>
  </ul>
</nav>
    </div>
</div>
    </aside>
  </section>
  <section id="section-move">
    <nav class="section-move">
    
    
      <a href="https://dev2820.github.io/study/nodejs/nodejs%EC%9D%98-%EC%84%B8%EC%85%98/" class="next card">
        <div class="title">
          <small>next</small>  
          <span>nodejs의 세션</span>
        </div>
        <i class="fas fa-angle-double-right icon slide-right"></i>
      </a>
    
</nav>
  
  </section>
  <section id="meta">
    <div class="card">
      
      
<div class="category_breadcrumb_title">
    <h2 class="title"><i class="fas fa-folder icon"></i>Categories</h2>
</div>
<div class="category_breadcrumb">
    <a href="https://dev2820.github.io/categories/study" class="action name">
        
        study
    </a>
    <span class="action slash">/</span>
    
    <a href="https://dev2820.github.io/subcategories/web" class="action name">
        
        <span class="name">Web</span>     
    </a>
    
</div>


      <div class="tag_list_title">
    <h2 class="title"><i class="fas fa-hashtag icon"></i>Tags</h2>
</div>
<ul class="tags tag_list">
    
        <li><a href="https://dev2820.github.io/tags/study/" class="action"><i class="fas fa-hashtag icon"></i>study</a></li>
    
        <li><a href="https://dev2820.github.io/tags/%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B8%B0%EC%88%A0/" class="action"><i class="fas fa-hashtag icon"></i>컴퓨터 기술</a></li>
    
        <li><a href="https://dev2820.github.io/tags/%EA%B3%B5%EB%B6%80%EC%A0%95%EB%A6%AC/" class="action"><i class="fas fa-hashtag icon"></i>공부정리</a></li>
    
        <li><a href="https://dev2820.github.io/tags/web/" class="action"><i class="fas fa-hashtag icon"></i>web</a></li>
    
        <li><a href="https://dev2820.github.io/tags/%EC%BF%A0%ED%82%A4/" class="action"><i class="fas fa-hashtag icon"></i>쿠키</a></li>
    
        <li><a href="https://dev2820.github.io/tags/cookie/" class="action"><i class="fas fa-hashtag icon"></i>cookie</a></li>
    
        <li><a href="https://dev2820.github.io/tags/nodejs/" class="action"><i class="fas fa-hashtag icon"></i>nodejs</a></li>
    
        <li><a href="https://dev2820.github.io/tags/express/" class="action"><i class="fas fa-hashtag icon"></i>express</a></li>
    
</ul>

      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "dev2820-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </section>
</main>

  <footer id="footer" class="bg-cover" style="background-image:url(/images/footer.png)">
    <button onclick="scrollToTop()" class="scroll-to-top card">
      <i class="fas fa-angle-double-up icon"></i>
    </button>
    <button onclick="scrollToBottom()" class="scroll-to-bottom card">
      <i class="fas fa-angle-double-down icon"></i>
    </button>
    
    <div class="center"><div class="share">
    <a href ="https://github.com/dev2820">
        <i class="fab fa-github icon"></i>
    </a>
    <a href ="https://mailto:second28200@gmail.com">
        <i class="fas fa-envelope icon"></i>
    </a> 
    <a href ="/index.xml">
        <i class="fas fa-rss icon"></i>
    </a>
</div><div class="copyright center">
        <span>COPYRIGHT 2021-2021. <a href="https://dev2820.github.io"> GIJO YANG (DEV2820).</a></span>
        <span>ALL RIGHTS RESERVED.</span>
      </div>
    </div>
  </footer>
</body>
</html>
  <script id="dsq-count-scr" src="//dev2820-github-io.disqus.com/count.js" async></script>
    </body>
</html>
